{% extends "layout.html" %}

{% block body %}
  <style>
    .sidebar .nav-link {
      color: rgba(255, 255, 255, 0.65);
    }
    .sidebar .nav-link:hover {
      color: rgba(255, 255, 255, 0.85);
    }
    .sidebar .nav-link.active {
      color: #fff;
      background-color: rgba(255, 255, 255, 0.1);
    }
  </style>

  <nav class="navbar navbar-expand-lg navbar-dark bg-danger sticky-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="/">
        Heim
      </a>

      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a href="/" class="nav-link">Dashboard</a>
        </li>
        <li class="nav-item">
          <a href="/logout/" class="nav-link">Log out</a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <nav class="col-md-3 col-lg-2 d-none d-md-block bg-dark sidebar" style="min-height: calc(100vh - 56px);">
        <div class="position-sticky pt-3" style="top: 56px;">
          <h6 class="px-3 mb-2 text-body-secondary text-uppercase small">
            Settings
          </h6>
          <ul class="nav flex-column mb-3">
            <li class="nav-item">
              <a class="nav-link {% if active_tab == 'overview' %}active{% endif %}" href="/settings/">
                Overview
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link {% if active_tab == 'locations' %}active{% endif %}" href="/settings/locations/">
                Locations
              </a>
            </li>
          </ul>
        </div>
      </nav>

      <!-- Main content -->
      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 py-4">
        {% for message in get_messages(request) %}
          <div class="{{ message.css_class }} alert-dismissible fade show" role="alert">
            {{ message.message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}

        {% block content %}{% endblock %}
      </main>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
{% endblock %}
