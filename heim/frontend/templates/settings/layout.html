{% extends "layout.html" %}

{% block body %}
  <style>
    .settings-layout {
      display: grid;
      grid-template-columns: 200px 1fr;
      min-height: calc(100vh - 80px);
    }
    .sidebar {
      background: var(--pico-card-background-color);
      padding: 1rem;
      border-right: 1px solid var(--pico-muted-border-color);
    }
    .sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .sidebar li {
      margin: 0;
    }
    .sidebar a {
      display: block;
      padding: 0.5rem 0.75rem;
      border-radius: var(--pico-border-radius);
      text-decoration: none;
      color: var(--pico-muted-color);
    }
    .sidebar a:hover {
      color: var(--pico-color);
      background: var(--pico-card-sectioning-background-color);
    }
    .sidebar a[aria-current="page"] {
      color: var(--pico-color);
      background: var(--pico-primary-background);
    }
    .sidebar h6 {
      font-size: 0.75rem;
      text-transform: uppercase;
      color: var(--pico-muted-color);
      margin: 1rem 0 0.5rem 0.75rem;
    }
    .sidebar h6:first-child {
      margin-top: 0;
    }
    .settings-content {
      padding: 1.5rem;
    }
    @media (max-width: 768px) {
      .settings-layout {
        grid-template-columns: 1fr;
      }
      .sidebar {
        display: none;
      }
    }
  </style>

  <nav class="container-fluid">
    <ul>
      <li><a href="/"><strong>Heim</strong></a></li>
    </ul>
    <ul>
      <li><a href="/">Dashboard</a></li>
      <li><a href="/logout/">Log out</a></li>
    </ul>
  </nav>

  <div class="settings-layout">
    <aside class="sidebar">
      <h6>Settings</h6>
      <ul>
        <li>
          <a href="/settings/" {% if active_tab == 'overview' %}aria-current="page"{% endif %}>
            Overview
          </a>
        </li>
        <li>
          <a href="/settings/locations/" {% if active_tab == 'locations' %}aria-current="page"{% endif %}>
            Locations
          </a>
        </li>
        <li>
          <a href="/settings/sensors/" {% if active_tab == 'sensors' %}aria-current="page"{% endif %}>
            Sensors
          </a>
        </li>
        <li>
          <a href="/settings/forecasts/" {% if active_tab == 'forecasts' %}aria-current="page"{% endif %}>
            Forecasts
          </a>
        </li>
      </ul>

      {% if is_netatmo_configured() %}
      <h6>Integrations</h6>
      <ul>
        <li>
          <a href="/settings/netatmo/" {% if active_tab == 'netatmo' %}aria-current="page"{% endif %}>
            Netatmo
          </a>
        </li>
      </ul>
      {% endif %}
    </aside>

    <main class="settings-content">
      {% for message in get_messages(request) %}
        <div class="{{ message.css_class }}" role="alert">
          {{ message.message }}
        </div>
      {% endfor %}

      {% block content %}{% endblock %}
    </main>
  </div>
{% endblock %}
